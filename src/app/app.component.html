<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">

  <!-- Header Fixed whole App-->
  <div class="android-header mdl-layout__header">
    <div class="mdl-layout__header-row">
      <div class="android-title mdl-layout-title">
        <a routerLink="/">
          <img class="android-logo-image" src="https://firebasestorage.googleapis.com/v0/b/yuxi-snacks-85cff.appspot.com/o/logo_yuxi_blanco.png?alt=media&token=ad86603d-3380-4f8b-9562-b625f6ebcbc8">
        </a>
      </div>
      <!-- Add spacer, to align navigation to the right in desktop -->
      <div class="android-header-spacer mdl-layout-spacer"></div>
      <!-- Mobile Logo -->
      <span class="android-mobile-title mdl-layout-title">
        <a routerLink="/">
          <img class="android-logo-image" src="https://firebasestorage.googleapis.com/v0/b/yuxi-snacks-85cff.appspot.com/o/logo_yuxi_blanco.png?alt=media&token=ad86603d-3380-4f8b-9562-b625f6ebcbc8">
        </a>
      </span>

      <!--Shopping cart button-->
        <button style="padding: 26px;" class="mdl-button  mdl-button--icon " id="cart-button">
          <div id="tt1">
            <i style="font-size: 25px;" class="material-icons">shopping_cart</i>
            <i *ngIf="productService.totalItemsIncart != 0" class="material-icons mdl-badge mdl-badge--overlap" [attr.data-badge]="productService.totalItemsIncart"></i>
          </div>
        </button>
      <div class="mdl-tooltip" data-mdl-for="tt1">Shopping cart</div>
      <!--hidden div for cart-button icon-->
      <div style="width: 280px; max-height: 320px; overflow-y: auto; color: black" class="mdl-menu mdl-js-menu mdl-menu--bottom-right"
        for="cart-button">
        <app-cart></app-cart>
      </div>


      <!--User purchase history button-->
      <button *ngIf="hideLogin" style="padding: 26px;" class="mdl-button mdl-button--icon " id="history-button" (click)="toggleMenu()">
        <div id="tt2">
          <i class="material-icons">
            <svg style="fill: #fff; margin-bottom: 30px;" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 26 26">
              <path
                d="M 4 0 C 3.449 0 3 0.449 3 1 L 3 3 L 3.5 3 C 4.878 3 6 4.121 6 5.5 C 6 6.879 4.878 8 3.5 8 L 3 8 L 3 11 L 3.5 11 C 4.878 11
                6 12.121 6 13.5 C 6 14.879 4.878 16 3.5 16 L 3 16 L 3 19 L 3.5 19 C 4.878 19 6 20.121 6 21.5 C 6 22.879 4.878 24 3.5 24 L 3 24 L 3
                25 C 3 25.551 3.449 26 4 26 L 24 26 C 24.551 26 25 25.551 25 25 L 25 1 C 25 0.449 24.551 0 24 0 L 4 0 z M 1.5 4 C 0.671 4 0 4.672 0
                5.5 C 0 6.328 0.671 7 1.5 7 L 3.5 7 C 4.329 7 5 6.328 5 5.5 C 5 4.672 4.329 4 3.5 4 L 1.5 4 z M 10 4 L 20 4 C 20.551 4 21 4.449 21
                5 L 21 12 C 21 12.551 20.551 13 20 13 L 10 13 C 9.449 13 9 12.551 9 12 L 9 5 C 9 4.449 9.449 4 10 4 z M 11.8125 6 A 1.001098 1.001098
                0 0 0 12 8 L 18 8 A 1.0001 1.0001 0 1 0 18 6 L 12 6 A 1.0001 1.0001 0 0 0 11.90625 6 A 1.001098 1.001098 0 0 0 11.8125 6 z M 11.8125
                9 A 1.001098 1.001098 0 0 0 12 11 L 18 11 A 1.0001 1.0001 0 1 0 18 9 L 12 9 A 1.0001 1.0001 0 0 0 11.90625 9 A 1.001098 1.001098 0 0 0
                11.8125 9 z M 1.5 12 C 0.671 12 0 12.672 0 13.5 C 0 14.328 0.671 15 1.5 15 L 3.5 15 C 4.329 15 5 14.328 5 13.5 C 5 12.672 4.329 12 3.5 12
                L 1.5 12 z M 1.5 20 C 0.671 20 0 20.672 0 21.5 C 0 22.328 0.671 23 1.5 23 L 3.5 23 C 4.329 23 5 22.328 5 21.5 C 5 20.672 4.329 20 3.5 20
                L 1.5 20 z">
              </path>
            </svg>
          </i>
          <i class="material-icons mdl-badge mdl-badge--overlap" data-badge=""></i>
        </div>
      </button>
      <div class="mdl-tooltip" data-mdl-for="tt2">Shopping history</div>


      <!--Login Icon-->
      <button id="login-mdl-icon" class="mdl-button mdl-js-button mdl-button--icon mdl-layout--small-screen-only">
        <i class="material-icons">more_vert</i>
      </button>
      <ul class="mdl-menu mdl-js-menu mdl-menu--bottom-right mdl-js-ripple-effect" for="login-mdl-icon">
        <li style="background-color: #f39c12;" disabled class="mdl-menu__item mdl-menu__item--full-bleed-divider" *ngIf="hideLogin">
          <span *ngFor="let usr of user " style="color: #fff;">{{usr.name}}</span>
        </li>
        <li *ngIf="!hideLogin" (click)="showAlert()" class="mdl-menu__item">Sign In</li>
        <li *ngIf="hideLogin" routerLink="/product" class="mdl-menu__item">Products</li>
        <li *ngIf="hideLogin && admin" routerLink="/admin" class="mdl-menu__item">Dashboard</li>
        <li *ngIf="hideLogin && admin" routerLink="/inventory" class="mdl-menu__item">Inventory</li>
        <li *ngIf="hideLogin" (click)="logout()" class="mdl-menu__item">Logout</li>
      </ul>

      <!--Login button-->
      <button *ngIf="hide" (click)="showAlert()" id="login-mdl-button" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">
        login
      </button>




      <!--Avatar to show user-->
      <div [hidden]="hide" class="android-navigation-container mdl-layout--large-screen-only">
          <nav  id="user-button" class="android-navigation mdl-navigation">
            <div *ngFor="let usr of user" style="width:auto; height:auto" >
              <span class="chip-user-avatar">Yuxian!, {{ usr.name}} </span>
              <div class="avatar">
                <div style="padding-top: 12px;">{{ usr.email |splitUserEmail }}</div>
              </div>
            </div>
            <i style="font-size: 18px; color:#fff !important;" class="material-icons">&#xE5C5;</i>
          </nav>
      </div>
      <ul  class="mdl-menu mdl-js-menu mdl-menu--bottom-right mdl-js-ripple-effect" for="user-button">
        <li class="mdl-menu__item" routerLink="/product">Products</li>
        <li *ngIf="admin" class="mdl-menu__item" routerLink="/admin" >Dashboard</li>
        <li *ngIf="admin" routerLink="/inventory" class="mdl-menu__item">Inventory</li>
        <li (click)="logout()" class="mdl-menu__item">Logout</li>
      </ul>



    </div>

  </div>

  <div class="mdl-layout__content">
    <div class="android-more-section">
      <div class="android-card-container">
        <router-outlet></router-outlet>
        <div *ngIf="hideLogin" [@slideInOut]="menuState" class="host">
          <my-history></my-history>
        </div>
      </div>
    </div>
  </div>

  <!--div container to display products-->
  <!-- <div class="mdl-layout__content">
    <div class="android-more-section">
      <div class="android-card-container mdl-grid">
        <router-outlet></router-outlet>
      </div>
    </div>
  </div>
</div> -->
